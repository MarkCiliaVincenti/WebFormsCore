var e;var t="undefined"==typeof document?void 0:document,n=!!t&&"content"in t.createElement("template"),a=!!t&&t.createRange&&"createContextualFragment"in t.createRange();function r(r){return r=r.trim(),n?function(e){var n=t.createElement("template");return n.innerHTML=e,n.content.childNodes[0]}(r):a?function(n){return e||(e=t.createRange()).selectNode(t.body),e.createContextualFragment(n).childNodes[0]}(r):function(e){var n=t.createElement("body");return n.innerHTML=e,n.childNodes[0]}(r)}function o(e,t){var n,a,r=e.nodeName,o=t.nodeName;return r===o||(n=r.charCodeAt(0),a=o.charCodeAt(0),n<=90&&a>=97?r===o.toUpperCase():a<=90&&n>=97&&o===r.toUpperCase())}function i(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var d={OPTION:function(e,t){var n=e.parentNode;if(n){var a=n.nodeName.toUpperCase();"OPTGROUP"===a&&(a=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==a||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}i(e,t,"selected")},INPUT:function(e,t){i(e,t,"checked"),i(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var a=e.firstChild;if(a){var r=a.nodeValue;if(r==n||!n&&r==e.placeholder)return;a.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,a,r=-1,o=0,i=e.firstChild;i;)if("OPTGROUP"===(a=i.nodeName&&i.nodeName.toUpperCase()))i=(n=i).firstChild;else{if("OPTION"===a){if(i.hasAttribute("selected")){r=o;break}o++}!(i=i.nextSibling)&&n&&(i=n.nextSibling,n=null)}e.selectedIndex=r}}};function u(){}function l(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var c=function(e){return function(n,a,i){if(i||(i={}),"string"==typeof a)if("#document"===n.nodeName||"HTML"===n.nodeName||"BODY"===n.nodeName){var c=a;(a=t.createElement("html")).innerHTML=c}else a=r(a);var f=i.getNodeKey||l,s=i.onBeforeNodeAdded||u,m=i.onNodeAdded||u,v=i.onBeforeElUpdated||u,p=i.onElUpdated||u,b=i.onBeforeNodeDiscarded||u,h=i.onNodeDiscarded||u,g=i.onBeforeElChildrenUpdated||u,N=!0===i.childrenOnly,E=Object.create(null),A=[];function T(e){A.push(e)}function y(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var a=void 0;t&&(a=f(n))?T(a):(h(n),n.firstChild&&y(n,t)),n=n.nextSibling}}function w(e,t,n){!1!==b(e)&&(t&&t.removeChild(e),h(e),y(e,n))}function C(e){m(e);for(var t=e.firstChild;t;){var n=t.nextSibling,a=f(t);if(a){var r=E[a];r&&o(t,r)?(t.parentNode.replaceChild(r,t),S(r,t)):C(t)}else C(t);t=n}}function S(n,a,r){var i=f(a);if(i&&delete E[i],!r){if(!1===v(n,a))return;if(e(n,a),p(n),!1===g(n,a))return}"TEXTAREA"!==n.nodeName?function(e,n){var a,r,i,u,l,c=n.firstChild,m=e.firstChild;e:for(;c;){for(u=c.nextSibling,a=f(c);m;){if(i=m.nextSibling,c.isSameNode&&c.isSameNode(m)){c=u,m=i;continue e}r=f(m);var v=m.nodeType,p=void 0;if(v===c.nodeType&&(1===v?(a?a!==r&&((l=E[a])?i===l?p=!1:(e.insertBefore(l,m),r?T(r):w(m,e,!0),m=l):p=!1):r&&(p=!1),(p=!1!==p&&o(m,c))&&S(m,c)):3!==v&&8!=v||(p=!0,m.nodeValue!==c.nodeValue&&(m.nodeValue=c.nodeValue))),p){c=u,m=i;continue e}r?T(r):w(m,e,!0),m=i}if(a&&(l=E[a])&&o(l,c))e.appendChild(l),S(l,c);else{var b=s(c);!1!==b&&(b&&(c=b),c.actualize&&(c=c.actualize(e.ownerDocument||t)),e.appendChild(c),C(c))}c=u,m=i}!function(e,t,n){for(;t;){var a=t.nextSibling;(n=f(t))?T(n):w(t,e,!0),t=a}}(e,m,r);var h=d[e.nodeName];h&&h(e,n)}(n,a):d.TEXTAREA(n,a)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var a=f(n);a&&(E[a]=n),e(n),n=n.nextSibling}}(n);var x,U,R=n,O=R.nodeType,D=a.nodeType;if(!N)if(1===O)1===D?o(n,a)||(h(n),R=function(e,t){for(var n=e.firstChild;n;){var a=n.nextSibling;t.appendChild(n),n=a}return t}(n,(x=a.nodeName,(U=a.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==U?t.createElementNS(U,x):t.createElement(x)))):R=a;else if(3===O||8===O){if(D===O)return R.nodeValue!==a.nodeValue&&(R.nodeValue=a.nodeValue),R;R=a}if(R===a)h(n);else{if(a.isSameNode&&a.isSameNode(R))return;if(S(R,a,N),A)for(var I=0,L=A.length;I<L;I++){var P=E[A[I]];P&&w(P,P.parentNode,!1)}}return!N&&R!==n&&n.parentNode&&(R.actualize&&(R=R.actualize(n.ownerDocument||t)),n.parentNode.replaceChild(R,n)),R}}((function(e,t){var n,a,r,o,i=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var d=i.length-1;d>=0;d--)a=(n=i[d]).name,r=n.namespaceURI,o=n.value,r?(a=n.localName||a,e.getAttributeNS(r,a)!==o&&("xmlns"===n.prefix&&(a=n.name),e.setAttributeNS(r,a,o))):e.getAttribute(a)!==o&&e.setAttribute(a,o);for(var u=e.attributes,l=u.length-1;l>=0;l--)a=(n=u[l]).name,(r=n.namespaceURI)?(a=n.localName||a,t.hasAttributeNS(r,a)||e.removeAttributeNS(r,a)):t.hasAttribute(a)||e.removeAttribute(a)}}));function f(e,t,n){for(var a=document.getElementById("pagestate"),r=location.pathname+location.search,o=e?new FormData(e):new FormData,i=document.body.querySelectorAll("input, select, textarea"),d=0;d<i.length;d++){var u=i[d];if(!u.hasAttribute("data-wfc-ignore")&&"button"!==u.type&&"submit"!==u.type&&"reset"!==u.type)u.closest("form[data-wfc-form]")||("checkbox"===u.type||"radio"===u.type?u.checked&&o.append(u.name,u.value):o.append(u.name,u.value))}a&&o.append("__PAGESTATE",a.value),t&&o.append("__EVENTTARGET",t),n&&o.append("__EVENTARGUMENT",n),document.dispatchEvent(new CustomEvent("wfc:beforeSubmit",{detail:{form:e,eventTarget:t,formData:o}}));var l={method:"POST"};if(document.body.querySelector('input[type="file"]:not([data-wfc-ignore])'))l.body=o;else{var f={};o.forEach((function(e,t){f[t]=e})),l.body=JSON.stringify(f),l.headers={"Content-Type":"application/json"}}fetch(r,l).then((function(e){return e.text()})).then((function(n){var a=[],r={onNodeAdded:function(n){a.push(n),document.dispatchEvent(new CustomEvent("wfc:addNode",{detail:{node:n,form:e,eventTarget:t}}))},onBeforeNodeDiscarded:function(n){var a,r;return"SCRIPT"!==n.tagName&&(("FORM"!==n.tagName||!n.hasAttribute("data-wfc-form"))&&(("DIV"!==n.tagName||!n.hasAttribute("data-wfc-owner")||(null!==(a=n.getAttribute("data-wfc-owner"))&&void 0!==a?a:"")===(null!==(r=null==e?void 0:e.id)&&void 0!==r?r:""))&&(!!document.dispatchEvent(new CustomEvent("wfc:discardNode",{detail:{node:n,form:e,eventTarget:t},cancelable:!0}))&&void 0)))}},o=(new DOMParser).parseFromString(n,"text/html");c(document.head,o.querySelector("head"),r),c(document.body,o.querySelector("body"),r),document.dispatchEvent(new CustomEvent("wfc:afterSubmit",{detail:{form:e,eventTarget:t,newElements:a}}))}))}var s=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){this.hasAttribute("data-wfc-form")?f(this):s.call(this)},document.addEventListener("submit",(function(e){e.target instanceof Element&&e.target.hasAttribute("data-wfc-form")&&(e.preventDefault(),f(e.target))})),document.addEventListener("click",(function(e){var t,n;if(e.target instanceof Element){var a=null===(n=null===(t=e.target)||void 0===t?void 0:t.closest("[data-wfc-postback]"))||void 0===n?void 0:n.getAttribute("data-wfc-postback");if(a){var r=e.target.closest("form[data-wfc-form]");e.preventDefault(),f(r,a)}}})),document.addEventListener("keypress",(function(e){if(("Enter"===e.key||13===e.keyCode||13===e.which)&&e.target instanceof Element&&"INPUT"===e.target.tagName){var t=e.target.getAttribute("type");if("button"!==t&&"submit"!==t&&"reset"!==t){var n=e.target.closest("form[data-wfc-form]"),a=e.target.getAttribute("name");e.preventDefault(),f(n,a,"ENTER")}}}));var m={};document.addEventListener("input",(function(e){var t;if(e.target instanceof Element&&"INPUT"===e.target.tagName&&e.target.hasAttribute("data-wfc-autopostback")){var n=e.target.getAttribute("type");if("button"!==n&&"submit"!==n&&"reset"!==n){var a=e.target.closest("form[data-wfc-form]"),r=e.target.getAttribute("name"),o=(null!==(t=null==a?void 0:a.id)&&void 0!==t?t:"")+r;m[o]&&clearTimeout(m[o]),m[o]=setTimeout((function(){delete m[o],f(a,r,"CHANGE")}),1e3)}}})),document.addEventListener("change",(function(e){var t;if(e.target instanceof Element&&e.target.hasAttribute("data-wfc-autopostback")){var n=e.target.getAttribute("name"),a=e.target.closest("form[data-wfc-form]"),r=(null!==(t=null==a?void 0:a.id)&&void 0!==t?t:"")+n;m[r]&&clearTimeout(m[r]),f(a,n,"CHANGE")}}));
